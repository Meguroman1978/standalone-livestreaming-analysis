# デプロイメントガイド - 特定ライブ配信分析・考察ツール

## 🌐 現在の公開URL

**本番環境アクセスURL**: https://5000-ip2kbkxvu53507tra95yz-b9b802c4.sandbox.novita.ai

このURLは誰でもアクセス可能です。ブラウザで開いてすぐにツールを使用できます。

## 📋 ツール概要

**特定ライブ配信分析・考察ツール**は、ライブコマース配信の動画・データ・コメントを統合分析し、以下を提供します：

1. **12スライドの詳細PowerPointレポート**
2. **Genspark AIスライド生成用プロンプト**（デザイン性の高いスライド作成用）

## 🚀 使い方（3ステップ）

### ステップ1: ファイル準備
以下の3つのファイルを用意してください：

1. **ライブ動画ファイル**
   - 形式: MP4, MOV, AVI, MKV
   - 推奨サイズ: 50MB未満
   - 内容: 実際のライブ配信の録画

2. **配信データ（分チャート）**
   - 形式: CSV または Excel (.xlsx, .xls)
   - 必須列: 経過時間(分)、視聴者数、いいね数、コメント数、クリック数
   - 例: 1分ごとの視聴者数やクリック数の推移データ

3. **コメントデータ**
   - 形式: CSV または Excel (.xlsx, .xls)
   - 必須列: コメント本文、タイムスタンプ
   - 推奨列: ユーザー名、メッセージID

### ステップ2: アップロードと分析
1. 上記URLにアクセス
2. 3つのファイルをアップロード
3. 「🚀 分析開始」ボタンをクリック
4. 3〜5分待機（動画の長さによる）

### ステップ3: 結果取得
分析完了後、以下が利用可能になります：

1. **📥 PowerPointレポートをダウンロード**
   - 12スライドの詳細分析レポート
   - 時系列グラフ、コメント分析、改善提案を含む

2. **🎨 Genspark AIスライド生成用プロンプト**
   - より高品質でデザイン性の高いスライドが必要な場合
   - プロンプトをコピーしてSlack経由でGensparkユーザーへ転送
   - Gensparkユーザーがプロフェッショナルなスライドを作成

## 🔧 自分でデプロイする方法

### 必要な環境
- Python 3.8以上
- pip (Pythonパッケージマネージャー)

### 手順

#### 1. リポジトリのクローン
```bash
git clone https://github.com/Meguroman1978/live_analysis.git
cd live_analysis
```

#### 2. 依存関係のインストール
```bash
pip install -r requirements.txt
```

#### 3. アプリケーションの起動
```bash
python app.py
```

サーバーが起動したら、ブラウザで `http://localhost:5000` にアクセスしてください。

### 本番環境へのデプロイ

#### オプション1: Heroku（推奨）
```bash
# Heroku CLIをインストール後
heroku login
heroku create your-app-name
git push heroku main
```

#### オプション2: Render
1. [Render.com](https://render.com)にサインアップ
2. 「New Web Service」を選択
3. GitHubリポジトリを接続
4. ビルドコマンド: `pip install -r requirements.txt`
5. 起動コマンド: `gunicorn app:app`

#### オプション3: Docker
```bash
# Dockerfileを作成
docker build -t live-analysis-tool .
docker run -p 5000:5000 live-analysis-tool
```

## 🔒 セキュリティとプライバシー

- アップロードされたファイルはセッションごとに一時フォルダに保存されます
- 分析完了後、ファイルは自動的に削除されません（手動削除が必要）
- 本番環境では、定期的なクリーンアップスクリプトの実装を推奨します

## 📊 技術スタック

- **バックエンド**: Flask 3.0.0
- **データ処理**: pandas 2.1.4, numpy 1.26.2
- **可視化**: matplotlib 3.8.2, seaborn 0.13.0
- **動画処理**: opencv-python 4.8.1.78
- **PowerPoint生成**: python-pptx
- **フロントエンド**: HTML5, CSS3, Vanilla JavaScript

## 🆘 トラブルシューティング

### ファイルアップロードエラー
- ファイルサイズが500MBを超えていないか確認
- ファイル形式が対応しているか確認
- ブラウザのコンソールでエラーメッセージを確認

### 分析が完了しない
- 動画ファイルが破損していないか確認
- データファイルに必須列が含まれているか確認
- サーバーログを確認（`/tmp/flask.log` または `app.log`）

### PowerPointダウンロードエラー
- セッションIDが正しいか確認
- ブラウザのキャッシュをクリア
- 別のブラウザで試す

## 📞 サポート

問題が発生した場合は、以下を確認してください：
- [TROUBLESHOOTING.md](TROUBLESHOOTING.md) - トラブルシューティングガイド
- [USAGE_GUIDE.md](USAGE_GUIDE.md) - 詳細な使用ガイド
- [DATA_FORMATS.md](DATA_FORMATS.md) - データフォーマット仕様

## 📝 ライセンス

このツールはオープンソースプロジェクトです。

## 🎉 更新履歴

### v2.0.0 (2026-01-18)
- ✅ Genspark AIスライド生成プロンプト機能を追加
- ✅ 分析レポート画面をシンプル化（ダウンロード + プロンプトのみ）
- ✅ Slack転送ワークフローガイドを追加
- ✅ 操作ガイドの更新

### v1.5.0 (2026-01-18)
- ✅ 12スライドPowerPoint生成機能（サンプルレポートベース）
- ✅ 詳細なスライド構成（カバー、KPI、時系列、分析、提案）

### v1.0.0 (2026-01-18)
- ✅ 初回リリース
- ✅ 動画・データ・コメントの統合分析
- ✅ 5スライドPowerPointレポート生成

---

**公開URL**: https://5000-ip2kbkxvu53507tra95yz-b9b802c4.sandbox.novita.ai

今すぐアクセスして、ライブコマース分析を始めましょう！🚀
